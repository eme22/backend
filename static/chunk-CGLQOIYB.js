import{a as E}from"./chunk-6OEF5Y2I.js";import{b as f,c as b,d as k,e as S,g as w}from"./chunk-5NKQJYQU.js";import"./chunk-KL4PSEE7.js";import{Gb as i,Hb as d,Ia as s,Oa as p,Va as x,aa as a,ba as m,ia as v,mb as e,nb as t,ob as n,wb as h,xc as y}from"./chunk-HE7H4WY4.js";var M=class c{constructor(r,o){this.authService=r;this.router=o}currentUser=v(null);ngOnInit(){this.authService.currentUser$.subscribe(r=>{this.currentUser.set(r),(!r||r.role!=="admin"&&r.role!=="vendor")&&this.router.navigate(["/"])})}getUserInitials(){let r=this.currentUser();return r?.username?r.username.charAt(0).toUpperCase():"U"}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/"])},error:r=>{console.error("Error during logout:",r),this.router.navigate(["/"])}})}static \u0275fac=function(o){return new(o||c)(p(E),p(b))};static \u0275cmp=x({type:c,selectors:[["app-admin"]],decls:38,vars:3,consts:[[1,"flex","h-screen","bg-gray-100"],[1,"w-64","bg-white","shadow-lg"],[1,"flex","items-center","justify-center","h-16","bg-primary-600"],[1,"text-white","text-xl","font-bold"],[1,"mt-5"],[1,"px-4","py-2","text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],["routerLink","/admin/users","routerLinkActive","bg-primary-50 text-primary-600 border-r-4 border-primary-600",1,"flex","items-center","px-4","py-3","text-gray-700","hover:bg-gray-50","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],["routerLink","/admin/categories","routerLinkActive","bg-primary-50 text-primary-600 border-r-4 border-primary-600",1,"flex","items-center","px-4","py-3","text-gray-700","hover:bg-gray-50","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14-4H5m14 8H5"],["routerLink","/admin/products","routerLinkActive","bg-primary-50 text-primary-600 border-r-4 border-primary-600",1,"flex","items-center","px-4","py-3","text-gray-700","hover:bg-gray-50","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["routerLink","/admin/orders","routerLinkActive","bg-primary-50 text-primary-600 border-r-4 border-primary-600",1,"flex","items-center","px-4","py-3","text-gray-700","hover:bg-gray-50","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"absolute","bottom-0","w-64","p-4","border-t"],[1,"flex","items-center"],[1,"w-8","h-8","bg-primary-600","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-sm","font-medium"],[1,"ml-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-xs","text-gray-500"],[1,"mt-3","w-full","bg-gray-100","text-gray-700","py-2","px-4","rounded","hover:bg-gray-200","transition-colors","text-sm",3,"click"],[1,"flex-1","overflow-y-auto"]],template:function(o,l){if(o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"Panel de Admin"),t()(),e(5,"nav",4)(6,"div",5),i(7," Gesti\xF3n "),t(),e(8,"a",6),a(),e(9,"svg",7),n(10,"path",8),t(),i(11," Usuarios "),t(),m(),e(12,"a",9),a(),e(13,"svg",7),n(14,"path",10),t(),i(15," Categor\xEDas "),t(),m(),e(16,"a",11),a(),e(17,"svg",7),n(18,"path",12),t(),i(19," Productos "),t(),m(),e(20,"a",13),a(),e(21,"svg",7),n(22,"path",14),t(),i(23," Pedidos "),t()(),m(),e(24,"div",15)(25,"div",16)(26,"div",17)(27,"span",18),i(28),t()(),e(29,"div",19)(30,"p",20),i(31),t(),e(32,"p",21),i(33),t()()(),e(34,"button",22),h("click",function(){return l.logout()}),i(35," Cerrar Sesi\xF3n "),t()()(),e(36,"div",23),n(37,"router-outlet"),t()()),o&2){let u,g;s(28),d(l.getUserInitials()),s(3),d((u=l.currentUser())==null?null:u.username),s(2),d((g=l.currentUser())==null?null:g.role)}},dependencies:[y,w,f,k,S],encapsulation:2})};export{M as AdminComponent};
