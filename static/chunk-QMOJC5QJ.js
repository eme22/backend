import{a as N}from"./chunk-H5RDGQN3.js";import{b as W,d as L,e as I,f as T,g as z,h as q,q as A,s as B}from"./chunk-3BSRKISZ.js";import{c as R,d as E,g as k}from"./chunk-ZXTFQK7X.js";import"./chunk-TYBCTD6A.js";import{Gb as n,Hb as _,Ia as i,Ib as w,Kb as m,Lb as d,Mb as u,Oa as x,Va as M,Za as h,aa as c,ba as b,ia as f,lb as g,mb as e,nb as a,ob as y,sc as S,wb as C,xb as v,xc as D}from"./chunk-7IT3E43U.js";function V(o,l){if(o&1&&(e(0,"div",22)(1,"div",23)(2,"div",24),c(),e(3,"svg",25),y(4,"path",26),a()(),b(),e(5,"div",27)(6,"h3",28),n(7),a()()()()),o&2){let s=v();i(7),_(s.errorMessage())}}function F(o,l){if(o&1&&(e(0,"div",29)(1,"div",23)(2,"div",24),c(),e(3,"svg",30),y(4,"path",31),a()(),b(),e(5,"div",27)(6,"h3",32),n(7),a()()()()),o&2){let s=v();i(7),_(s.successMessage())}}function j(o,l){o&1&&(e(0,"span",33),c(),e(1,"svg",34),y(2,"circle",35)(3,"path",36),a()())}var P=class o{constructor(l,s){this.authService=l;this.router=s}userData={username:"",email:"",password:"",first_name:"",last_name:"",role:"customer"};loading=f(!1);errorMessage=f("");successMessage=f("");onSubmit(){if(!this.userData.username||!this.userData.email||!this.userData.password||!this.userData.first_name||!this.userData.last_name){this.errorMessage.set("Por favor completa todos los campos");return}this.loading.set(!0),this.errorMessage.set(""),this.successMessage.set(""),this.authService.register(this.userData).subscribe({next:l=>{this.loading.set(!1),this.successMessage.set("Cuenta creada exitosamente. Ahora puedes iniciar sesi\xF3n."),setTimeout(()=>{this.router.navigate(["/login"])},2e3)},error:l=>{this.loading.set(!1),this.errorMessage.set(l.error?.message||"Error al crear la cuenta")}})}static \u0275fac=function(s){return new(s||o)(x(N),x(R))};static \u0275cmp=M({type:o,selectors:[["app-register"]],decls:38,vars:10,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-primary-600","hover:text-primary-500"],[1,"mt-8","space-y-6",3,"ngSubmit"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],["for","first_name",1,"block","text-sm","font-medium","text-gray-700"],["id","first_name","name","first_name","type","text","required","","placeholder","Nombre",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","last_name",1,"block","text-sm","font-medium","text-gray-700"],["id","last_name","name","last_name","type","text","required","","placeholder","Apellido",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["id","username","name","username","type","text","required","","placeholder","Nombre de usuario",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","required","","placeholder","correo@ejemplo.com",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","type","password","required","","placeholder","Contrase\xF1a",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-green-800"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(s,t){s&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),n(4," Crear Cuenta "),a(),e(5,"p",3),n(6," O "),e(7,"a",4),n(8," inicia sesi\xF3n con tu cuenta existente "),a()()(),e(9,"form",5),C("ngSubmit",function(){return t.onSubmit()}),h(10,V,8,1,"div",6)(11,F,8,1,"div",7),e(12,"div",8)(13,"div",9)(14,"div")(15,"label",10),n(16," Nombre "),a(),e(17,"input",11),u("ngModelChange",function(r){return d(t.userData.first_name,r)||(t.userData.first_name=r),r}),a()(),e(18,"div")(19,"label",12),n(20," Apellido "),a(),e(21,"input",13),u("ngModelChange",function(r){return d(t.userData.last_name,r)||(t.userData.last_name=r),r}),a()()(),e(22,"div")(23,"label",14),n(24," Usuario "),a(),e(25,"input",15),u("ngModelChange",function(r){return d(t.userData.username,r)||(t.userData.username=r),r}),a()(),e(26,"div")(27,"label",16),n(28," Email "),a(),e(29,"input",17),u("ngModelChange",function(r){return d(t.userData.email,r)||(t.userData.email=r),r}),a()(),e(30,"div")(31,"label",18),n(32," Contrase\xF1a "),a(),e(33,"input",19),u("ngModelChange",function(r){return d(t.userData.password,r)||(t.userData.password=r),r}),a()()(),e(34,"div")(35,"button",20),h(36,j,4,0,"span",21),n(37),a()()()()()),s&2&&(i(10),g("ngIf",t.errorMessage()),i(),g("ngIf",t.successMessage()),i(6),m("ngModel",t.userData.first_name),i(4),m("ngModel",t.userData.last_name),i(4),m("ngModel",t.userData.username),i(4),m("ngModel",t.userData.email),i(4),m("ngModel",t.userData.password),i(2),g("disabled",t.loading()),i(),g("ngIf",t.loading()),i(),w(" ",t.loading()?"Creando cuenta...":"Crear Cuenta"," "))},dependencies:[D,S,B,q,W,L,I,A,z,T,k,E],encapsulation:2})};export{P as RegisterComponent};
