import{a as H}from"./chunk-KWCMDIYP.js";import{c as N,d as P,g as z}from"./chunk-D3C3HQLZ.js";import"./chunk-TWZ67XBU.js";import{$ as x,Cb as k,Ga as h,Gb as l,Hb as m,Ia as a,Oa as S,Va as M,Xb as I,Za as d,_,aa as u,ba as b,ia as v,ib as L,lb as s,mb as i,nb as r,ob as g,sb as E,sc as T,tb as w,tc as V,ub as C,uc as D,wb as f,xb as c,zc as j}from"./chunk-J3KRFXTR.js";function F(t,n){t&1&&(i(0,"div",14),g(1,"div",15),r())}function O(t,n){if(t&1){let e=C();i(0,"div",16)(1,"div",17),u(),i(2,"svg",18),g(3,"path",19),r()(),b(),i(4,"h3",20),l(5,"Error al cargar las categor\xEDas"),r(),i(6,"p",21),l(7),r(),i(8,"button",22),f("click",function(){_(e);let p=c();return x(p.loadCategories())}),l(9," Intentar de nuevo "),r()()}if(t&2){let e=c();a(7),m(e.error())}}function $(t,n){if(t&1&&(E(0),g(1,"img",31),w()),t&2){let e=c().$implicit;a(),s("src",e.image_url,h)("alt",e.name)}}function R(t,n){if(t&1&&(i(0,"div",32),u(),i(1,"svg",33),g(2,"path",34),r()()),t&2){let e=c().$implicit,o=c(2);s("ngClass",o.getCategoryStyle(e.category_id).bgColor),a(),s("ngClass",o.getCategoryStyle(e.category_id).iconColor),a(),L("d",o.getCategoryStyle(e.category_id).iconPath)}}function G(t,n){if(t&1&&(E(0),g(1,"img",44),w()),t&2){let e=c().$implicit;a(),s("src",e.image_url,h)("alt",e.name)}}function U(t,n){t&1&&(i(0,"div",45),u(),i(1,"svg",46),g(2,"path",47),r()())}function q(t,n){if(t&1){let e=C();i(0,"div",39),f("click",function(){let p=_(e).$implicit,y=c(4);return x(y.navigateToCategory(p))}),i(1,"div",40),d(2,G,2,2,"ng-container",27)(3,U,3,0,"ng-template",null,1,I),i(5,"div",41)(6,"h4",42),l(7),r(),i(8,"p",43),l(9),r()()()()}if(t&2){let e=n.$implicit,o=k(4);a(2),s("ngIf",e.image_url)("ngIfElse",o),a(5),m(e.name),a(2),m(e.description)}}function A(t,n){if(t&1&&(i(0,"div",35)(1,"h3",36),l(2,"Subcategor\xEDas"),r(),i(3,"div",37),d(4,q,10,4,"div",38),r()()),t&2){let e=c().$implicit;a(4),s("ngForOf",e.subcategories)}}function J(t,n){if(t&1){let e=C();i(0,"div",7)(1,"div",25)(2,"div",26),d(3,$,2,2,"ng-container",27)(4,R,3,3,"ng-template",null,0,I),i(6,"div")(7,"h2",28),l(8),r(),i(9,"p",9),l(10),r()()(),i(11,"button",29),f("click",function(){let p=_(e).$implicit,y=c(2);return x(y.navigateToCategory(p))}),l(12," Ver Productos "),r()(),d(13,A,5,1,"div",30),r()}if(t&2){let e=n.$implicit,o=k(5);a(3),s("ngIf",e.image_url)("ngIfElse",o),a(5),m(e.name),a(2),m(e.description),a(3),s("ngIf",e.subcategories&&e.subcategories.length>0)}}function K(t,n){if(t&1&&(i(0,"div",23),d(1,J,14,5,"div",24),r()),t&2){let e=c();a(),s("ngForOf",e.rootCategories())}}function Q(t,n){t&1&&(i(0,"div",48)(1,"div",49),u(),i(2,"svg",50),g(3,"path",51),r()(),b(),i(4,"h3",20),l(5,"No hay categor\xEDas disponibles"),r(),i(6,"p",9),l(7,"Las categor\xEDas aparecer\xE1n aqu\xED cuando est\xE9n disponibles."),r()())}var B=class t{constructor(n,e){this.categoriesService=n;this.router=e}categories=v([]);rootCategories=v([]);loading=v(!1);error=v(null);categoryStyles={1:{bgColor:"bg-blue-100",iconColor:"text-blue-600",iconPath:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"},2:{bgColor:"bg-green-100",iconColor:"text-green-600",iconPath:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"},3:{bgColor:"bg-purple-100",iconColor:"text-purple-600",iconPath:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2zM3 7l9-4 9 4M3 7h18"},4:{bgColor:"bg-red-100",iconColor:"text-red-600",iconPath:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},5:{bgColor:"bg-yellow-100",iconColor:"text-yellow-600",iconPath:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.4M7 13v6a2 2 0 002 2h7a2 2 0 002-2v-6m-9 0h9"},6:{bgColor:"bg-indigo-100",iconColor:"text-indigo-600",iconPath:"M13 10V3L4 14h7v7l9-11h-7z"},7:{bgColor:"bg-pink-100",iconColor:"text-pink-600",iconPath:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},8:{bgColor:"bg-gray-100",iconColor:"text-gray-600",iconPath:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-4-4m0 0L9 5m6 0v4"}};ngOnInit(){this.loadCategories()}loadCategories(){this.loading.set(!0),this.error.set(null),this.categoriesService.getAllCategories().subscribe({next:n=>{this.categories.set(n);let e=n.filter(o=>o.parent_category_id===null);this.rootCategories.set(e),this.loading.set(!1)},error:n=>{this.error.set("No se pudieron cargar las categor\xEDas"),this.loading.set(!1),console.error("Error loading categories:",n)}})}getCategoryStyle(n){return this.categoryStyles[n]||this.categoryStyles[1]}navigateToCategory(n){this.router.navigate(["/category",n.category_id])}static \u0275fac=function(e){return new(e||t)(S(H),S(N))};static \u0275cmp=M({type:t,selectors:[["app-categories-list"]],decls:18,vars:4,consts:[["iconBlock",""],["subIconBlock",""],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-8"],[1,"flex","items-center","space-x-2","text-sm","text-gray-500","mb-4"],["routerLink","/",1,"hover:text-primary-600"],[1,"text-gray-900"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-6 text-center",4,"ngIf"],["class","space-y-8",4,"ngIf"],["class","bg-white rounded-lg shadow-sm p-12 text-center",4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-primary-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6","text-center"],[1,"text-red-600","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],[1,"bg-primary-600","text-white","px-4","py-2","rounded-md","hover:bg-primary-700","transition-colors",3,"click"],[1,"space-y-8"],["class","bg-white rounded-lg shadow-sm p-6",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","space-x-4"],[4,"ngIf","ngIfElse"],[1,"text-2xl","font-bold","text-gray-900"],[1,"bg-primary-600","text-white","px-6","py-2","rounded-md","hover:bg-primary-700","transition-colors","font-medium",3,"click"],["class","space-y-4",4,"ngIf"],[1,"w-16","h-16","rounded-full","object-cover","border","border-gray-200",3,"src","alt"],[1,"w-16","h-16","rounded-full","flex","items-center","justify-center",3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer group",3,"click",4,"ngFor","ngForOf"],[1,"bg-gray-50","rounded-lg","p-4","hover:bg-gray-100","transition-colors","cursor-pointer","group",3,"click"],[1,"flex","items-center","space-x-3"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500","truncate"],[1,"w-10","h-10","rounded-full","object-cover","border","border-gray-200",3,"src","alt"],[1,"w-10","h-10","rounded-full","bg-primary-100","flex","items-center","justify-center","group-hover:bg-primary-200","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"bg-white","rounded-lg","shadow-sm","p-12","text-center"],[1,"text-gray-400","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2M7 7h10"]],template:function(e,o){e&1&&(i(0,"div",2)(1,"div",3)(2,"nav",4)(3,"a",5),l(4,"Inicio"),r(),i(5,"span"),l(6,"/"),r(),i(7,"span",6),l(8,"Categor\xEDas"),r()(),i(9,"div",7)(10,"h1",8),l(11,"Todas las Categor\xEDas"),r(),i(12,"p",9),l(13,"Explora nuestras categor\xEDas de productos"),r()()(),d(14,F,2,0,"div",10)(15,O,10,1,"div",11)(16,K,2,1,"div",12)(17,Q,8,0,"div",13),r()),e&2&&(a(14),s("ngIf",o.loading()),a(),s("ngIf",o.error()),a(),s("ngIf",!o.loading()&&!o.error()),a(),s("ngIf",!o.loading()&&!o.error()&&o.rootCategories().length===0))},dependencies:[j,T,V,D,z,P],encapsulation:2})};export{B as CategoriesListComponent};
